"use strict";(self.webpackChunkreact_project_phonebook=self.webpackChunkreact_project_phonebook||[]).push([[639],{6639:function(e,n,t){t.r(n),t.d(n,{default:function(){return te}});var i=t(6582),a=t(3935),r=t(9439),o=t(8007),l=t(2791),c=t(9434),s=t(1686),u=t(5705),d=t(5325),x=t(7298),m=t(2715),h=t(9163),f=t(9055),j=t(6172),p=t(9759),b=t(3634),y=t(6281),g=t(184),v=function(){var e=(0,l.useState)(!1),n=(0,r.Z)(e,2),t=n[0],i=n[1],a=(0,p.g)().contacts,v="Fill in this field!",N=(0,c.I0)(),S=o.Ry().shape({name:o.Z_().min(3).required(v),number:o.Z_().required(v)});return(0,g.jsx)(u.J9,{initialValues:{name:"",number:""},validationSchema:S,onSubmit:function(e,n){var t=n.resetForm;if((0,y.G7)(a,e.name))return s.Notify.info("".concat(e.name," is alredy in contacts, maybe you were mistaken?"),{width:"400px"});i(!0),N((0,b.uK)(e)).finally((function(){return i(!1)})),t()},children:(0,g.jsxs)(d.NI,{as:u.l0,mb:"10px",children:[(0,g.jsxs)(x.l,{htmlFor:"name",m:"0 0 8px 0",children:[(0,g.jsx)(m.x,{fontSize:"xl",mb:1,children:"Name"}),(0,g.jsx)(h.I,{as:u.gN,variant:"filled",type:"text",name:"name"}),(0,g.jsx)(u.Bc,{name:"name",component:m.x,fontSize:"xs",color:"red"})]}),(0,g.jsxs)(x.l,{htmlFor:"number",m:"0 0 8px 0",children:[(0,g.jsx)(m.x,{fontSize:"xl",mb:1,children:"Number"}),(0,g.jsx)(h.I,{as:u.gN,variant:"filled",type:"tel",name:"number"}),(0,g.jsx)(u.Bc,{name:"number",component:m.x,fontSize:"xs",color:"red"})]}),(0,g.jsx)(f.z,{type:"submit",rightIcon:(0,g.jsx)(j.d,{}),isLoading:t&&a.length>0,loadingText:"Adding...",colorScheme:"blue",variant:"outline",children:"Add contact"})]})})},N=t(824),S=t(9589),C=t(1397),w=t(5090),I=t(9696),k=t(1413),Z=t(3164),z=t(2943),F=t(6108),A=t(4524),_=t(4610),O=t(5987),D=t(1666),q=t(5494),G=t(6702),L=t(7227),B=t(2008),E=t(5510),J=t(8555),T=function(e){var n=e.initialName,t=e.initialNumber,i=e.id,a=e.handleClose,j=(0,l.useState)(!1),v=(0,r.Z)(j,2),S=v[0],C=v[1],w=(0,p.g)().contacts,I=(0,c.I0)(),k={name:n,number:t},Z=o.Ry().shape({name:o.Z_().required("Fill in this field!"),number:o.Z_().required("Fill in this field!")});return(0,g.jsx)(u.J9,{initialValues:k,validationSchema:Z,onSubmit:function(e){var r=e.name,o=e.number;return r===n&&o===t?s.Notify.info("There is no changes!"):(0,y.G7)(w,r)?s.Notify.info("".concat(r," is alredy in contacts, maybe you were mistaken?"),{width:"400px"}):(C(!0),I((0,b.mP)({name:r,number:o,id:i})).finally((function(){return C(!1)})),void a())},children:(0,g.jsxs)(d.NI,{as:u.l0,mb:"32px",display:"flex",flexDirection:"column",children:[(0,g.jsxs)(x.l,{htmlFor:"name",m:"0 0 8px 0",children:[(0,g.jsx)(m.x,{fontSize:"xl",mb:1,children:"Name"}),(0,g.jsx)(h.I,{as:u.gN,variant:"filled",type:"text",name:"name"}),(0,g.jsx)(u.Bc,{name:"name",component:m.x,fontSize:"xs",color:"red"})]}),(0,g.jsxs)(x.l,{htmlFor:"number",m:"0 0 8px 0",children:[(0,g.jsx)(m.x,{fontSize:"xl",mb:1,children:"Number"}),(0,g.jsx)(h.I,{as:u.gN,variant:"filled",type:"tel",name:"number"}),(0,g.jsx)(u.Bc,{name:"number",component:m.x,fontSize:"xs",color:"red"})]}),(0,g.jsxs)(N.xu,{ml:"auto",children:[(0,g.jsx)(f.z,{type:"button",colorScheme:"blue",variant:"outline",mr:3,onClick:a,ml:"auto",children:"Close"}),(0,g.jsx)(f.z,{type:"submit",rightIcon:(0,g.jsx)(J.d,{}),isLoading:S,loadingText:"Editing...",colorScheme:"blue",variant:"outline",children:"Edit contact"})]})]})})},K=["isOpen","handleClose"],V=function(e){var n=e.isOpen,t=e.handleClose,i=(0,O.Z)(e,K);return(0,g.jsxs)(D.u_,{isOpen:n,onClose:t,children:[(0,g.jsx)(q.Z,{}),(0,g.jsxs)(G.h,{children:[(0,g.jsx)(L.x,{children:"Change your contact!"}),(0,g.jsx)(B.o,{as:"button"}),(0,g.jsx)(E.f,{children:(0,g.jsx)(T,(0,k.Z)({handleClose:t},i))})]})]})},H=t(9314),M=t(8108),R=t(2063),U=function(e){var n=e.contactName,t=e.contactNumber,i=e.contactId,a=(0,l.useState)(!1),o=(0,r.Z)(a,2),u=o[0],d=o[1],x=(0,c.I0)(),m=function(){return d((function(e){return!e}))};return(0,g.jsxs)(Z.v,{children:[(0,g.jsx)(z.j,{as:F.h,"aria-label":"Options",icon:(0,g.jsx)(H.e,{}),variant:"outline",colorScheme:"blue"}),(0,g.jsxs)(A.q,{children:[(0,g.jsx)(_.s,{icon:(0,g.jsx)(M.T,{}),onClick:function(){return(0,y.JG)(t,"Number was copied!")},children:"Copy"}),(0,g.jsxs)(_.s,{icon:(0,g.jsx)(J.d,{}),onClick:m,children:["Edit",(0,g.jsx)(V,{isOpen:u,handleClose:m,initialName:n,initialNumber:t,id:i})]}),(0,g.jsx)(_.s,{icon:(0,g.jsx)(R.p,{}),"data-contactid":i,onClick:function(e){var n=e.target.dataset.contactid;x((0,b.GK)(n)).then((function(e){"object"!==typeof e.payload&&s.Notify.failure("Oops! Sorry, but something was wrong, please try again")}))},children:"Delete"})]})]})},W=t(4579),P=function(e){var n=e.contactName,t=e.contactNumber,a=e.contactId,o=(0,l.useState)(!1),u=(0,r.Z)(o,2),d=u[0],x=u[1],m=(0,l.useState)(!1),h=(0,r.Z)(m,2),f=h[0],j=h[1],p=(0,c.I0)(),v=function(){j((function(e){return!e}))};return(0,g.jsxs)(i.k,{gap:"14px",children:[(0,g.jsx)(W.A,{callback:function(){return(0,y.JG)(t,"Number was copied!")},children:"Copy"}),(0,g.jsxs)(W.A,{callback:v,children:["Edit",(0,g.jsx)(V,{isOpen:f,handleClose:v,initialName:n,initialNumber:t,id:a})]}),(0,g.jsx)(W.A,{callback:function(e){x(!0);var n=e.target.dataset.contactid;p((0,b.GK)(n)).then((function(e){"object"!==typeof e.payload&&s.Notify.failure("Oops! Sorry, but something was wrong, please try again")})).finally((function(){return x(!1)}))},contactId:a,isDeleting:d,children:"Delete"})]})},X=function(e){return(0,y._U)()<620?(0,g.jsx)(U,(0,k.Z)({},e)):(0,g.jsx)(P,(0,k.Z)({},e))},$=function(e){var n=e.id,t=e.name,a=e.number;return(0,g.jsx)(w.Z,{as:C.HC,variant:"outline",children:(0,g.jsxs)(I.e,{as:i.k,justifyContent:"space-between",alignItems:"center",p:"8px",children:[(0,g.jsxs)(m.x,{fontSize:"2xl",overflow:"hidden",style:{textWrap:"nowrap"},textOverflow:"ellipsis",maxW:"calc(100% - 8px * 2 - 50px)",mr:"6px",children:[t," : ",a]}),(0,g.jsx)(X,{contactName:t,contactNumber:a,contactId:n})]})},n)},Q=t(1474),Y=function(){var e=(0,p.a)().isLoggedIn,n=(0,p.g)(),t=n.contacts,i=n.isLoading,a=n.error,r=n.filter,o=(0,c.I0)();(0,l.useEffect)((function(){e&&o((0,b.yF)())}),[e,o]);var s=t.filter((function(e){return e.name.toLowerCase().includes(r.toLowerCase())})),u=i&&!a&&0===t.length;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(N.xu,{padding:"5% calc(50% - 24px)",display:u?"block":"none",children:(0,g.jsx)(Q.a,{})}),0!==t.length||u?(0,g.jsx)(C.aV,{w:"100%",display:"flex",flexDirection:"column",gap:"16px",children:s.map((function(e){var n=e.id,t=e.name,i=e.number;return(0,g.jsx)($,{id:n,name:t,number:i},n)}))}):(0,g.jsx)(N.xu,{margin:"auto",width:"100%",textAlign:"center",children:(0,g.jsx)(S.X,{color:"blue.600",children:"Add your first contact!"})})]})},ee=t(4808),ne=function(){var e=(0,p.g)().filter,n=(0,c.I0)();return(0,g.jsxs)(x.l,{htmlFor:"filter",m:"0 0 20px 0",children:[(0,g.jsx)(m.x,{fontSize:"xl",mb:1,children:"Find contacts by name"}),(0,g.jsx)(h.I,{variant:"filled",type:"text",name:"filter",id:"filter",value:e,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:function(e){var t=e.target.value;n((0,ee.M6)(t))}})]})},te=function(){var e=(0,y._U)()<=620;return(0,g.jsxs)(a.H,{flexDirection:e?"column":"row",children:[(0,g.jsxs)(i.k,{flexDirection:"column",w:e?"100%":"300px",mr:e?"0px":"20px",children:[(0,g.jsx)(v,{}),(0,g.jsx)(ne,{})]}),(0,g.jsx)(Y,{})]})}}}]);
//# sourceMappingURL=639.ac252966.chunk.js.map